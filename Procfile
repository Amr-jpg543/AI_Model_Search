# ... الكود الخاص بك هنا (تعريف الدوال والـ ChromaManager) ...

if __name__ == "__main__":
    # هذا السطر للتشغيل المحلي فقط (لتفادي تشغيله على Railway مرتين)
    import uvicorn
    # عند التشغيل على Railway، سيعتمد على ملف Procfile
    uvicorn.run("main_api:app", host="0.0.0.0", port=8000, reload=True)